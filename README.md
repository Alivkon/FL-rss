# FL.ru RSS Parser

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä RSS-–ª–µ–Ω—Ç—ã —Å —Å–∞–π—Ç–∞ FL.ru –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–∞—Ö. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/alivkon/FL-rss.git
cd FL-rss
pip install -r requirements.txt
```

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

1. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ Linux/macOS
source venv/bin/activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ Windows
venv\Scripts\activate
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
cp config.py.example config.py
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.py —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

4. **–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞:**
```bash
# –ó–∞–ø—É—Å–∫ —Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º + —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
python get_rss_text.py

# –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
python get_rss_text.py --once

# –¢–æ–ª—å–∫–æ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–±–µ–∑ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
python get_rss_text.py --schedule-only

# –°–ø—Ä–∞–≤–∫–∞
python get_rss_text.py --help
```

## üìã –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```bash
python get_rss_text.py
```
- ‚úÖ –ó–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
- ‚è∞ –ó–∞—Ç–µ–º –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é: 9:00, 11:00, 13:00, 15:00, 17:00

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
python parser_manager_bot.py

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±–æ—Ç–µ
/auth FL_RSS_ADMIN_2025
/start
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
python viewdatabase.py

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `config.py`
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
USER_AGENT = "–≤–∞—à_user_agent" 
# –ü—Ä–∏–º–µ—Ä USER_AGENT = "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"

COOKIES = "–≤–∞—à–∏_cookies"
#–ü—Ä–∏–º–µ—Ä COOKIES = "__ddg1_=pgXi8yXApjYcWufTZrg; _ym_uid=174586895267277; _ym_d=174581446; r2UserId=1745861066098; analytic_id=17458614577462; cookies_accepted=1; mindboxDeviceUUID=ac79e4c3-a0c4-4125-9428-8a3ecdb7; directCrm-session=%7B%22deviceGuid%9e4c3-a0c4-4125-9428-8cdb7%22%7D; _ga_RD9LL0K106=GS1.1.1745861440.1.1.1745863732.42.0.0; _ga=GA1.2.2050675551.1745861441; hidetopprjlenta=0; __ddgid_=4U3z4zXRsVAChIyY; __ddg2_=tzXqvxp86KAib; id=90565; name=profi_pro; pwd=65e4ff2bd982e9cf7fcf6ec9; user_device_id=k35d0g18zx908shntmdcs; _ga_cid_uuid4=00058339-3d20-486a-b505-b78a4978e; PHPSESSID=gKZcV7KBngTeglBQ1yUMabhVyXhm9czwg; new_pf0=1; new_pf10=1; npromo_x=%7B%22close%22%3A1%7D; nomo_open=0; __ddg9_=109.245.36.26; _ym_isad=2; _ym_visorc=w; XSRF-TOKEN=WkIFqBeg6xn5hsoCcl4U8GJanIdp36lIHH; __ddg8_=93RnTius7LBxJv; __ddg10_=175158"

REQUEST_TIMEOUT = 30

# Telegram –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TELEGRAM_TOKEN = "–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞"
TELEGRAM_CHAT_ID = "–≤–∞—à_chat_id"

# –§–æ—Ä–º–∞—Ç—ã –¥–∞—Ç
DISPLAY_DATE_FORMAT = "%Y-%m-%d %H:%M:%S"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π `included_categories.txt`
```
1    # –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
5    # –¢–µ–∫—Å—Ç—ã (–∞–≤—Ç–æ—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
8    # –î–∏–∑–∞–π–Ω
# 2  # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
```

### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `filterList.ini`
```ini
[keywords]
keyword1=python
keyword2=django
keyword3=flask
```

### –°—Ç–æ–ø-—Å–ª–æ–≤–∞ `stopwords.ini`
```ini
[stopwords]
stopword1=–≤–∑–ª–æ–º
stopword2=—Ö–∞–∫–µ—Ä
stopword3=–∫–∞–∑–∏–Ω–æ
```

## ü§ñ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

### Systemd —Å–µ—Ä–≤–∏—Å (Linux)
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/fl-rss-parser.service
```

```ini
[Unit]
Description=FL.ru RSS Parser Service
After=network.target

[Service]
Type=simple
User=alivkon
Group=alivkon
WorkingDirectory=/home/alivkon/FL-rss
ExecStart=/home/alivkon/FL-rss/venv/bin/python get_rss_text.py
Restart=always
RestartSec=30
Environment=PYTHONPATH=/home/alivkon/projects/FL/FL-rss

[Install]
WantedBy=multi-user.target
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl daemon-reload
sudo systemctl enable fl-rss-parser
sudo systemctl start fl-rss-parser

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status fl-rss-parser
```

### –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ manager.py (–µ—Å–ª–∏ –µ—Å—Ç—å)
python manager.py start      # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python manager.py daemon     # –§–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º
python manager.py stop       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
python manager.py status     # –°—Ç–∞—Ç—É—Å
```

## üìä –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:

```bash
python viewdatabase.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:5000

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
- üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- üìÇ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üì± Telegram —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:**
- `/start` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/status` - —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞
- `/logs` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏

**–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å - –∑–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞
- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ - –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FL-rss/
‚îú‚îÄ‚îÄ get_rss_text.py              # üöÄ –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
‚îú‚îÄ‚îÄ database.py                  # üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ telegram_bot.py              # üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ parser_manager_bot.py        # ü§ñ –ë–æ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ viewdatabase.py              # üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ config.py                    # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ included_categories.txt      # üìÇ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îú‚îÄ‚îÄ filterList.ini               # üîç –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
‚îú‚îÄ‚îÄ stopwords.ini                # üö´ –°—Ç–æ–ø-—Å–ª–æ–≤–∞
‚îú‚îÄ‚îÄ requirements.txt             # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ rss_data.db                  # üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îî‚îÄ‚îÄ README.md                    # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```txt
requests>=2.25.1
python-telegram-bot>=20.0
configparser>=5.0.0
schedule>=1.1.0
psutil>=5.8.0
Flask>=2.0.0
```

## üìà –§—É–Ω–∫—Ü–∏–∏

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥
- –ó–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: 9:00, 11:00, 13:00, 15:00, 17:00
- –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

### üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ê–≤—Ç–æ—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ 5
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞–º

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- SQLite –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### ü§ñ –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- Systemd –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cookies –∏ User-Agent –≤ config.py
# –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ TELEGRAM_TOKEN
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É rss_data.db
# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–¥–∞–ª–∏—Ç–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ë–î
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status fl-rss-parser

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u fl-rss-parser -f
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å FL.ru
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--once` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–ê–≤—Ç–æ—Ä:** alivkon  
**–í–µ—Ä—Å–∏—è:** 2.0  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT
